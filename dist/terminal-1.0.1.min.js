(function(i){var e=e||function(e,b){function i(a){j.insertAdjacentHTML("beforeEnd",a);d.scrollIntoView()}if(e){var c={welcome:"",prompt:"",separator:"&gt;",theme:"interlaced"},b=b||c;b.welcome=b.welcome||c.welcome;b.prompt=b.prompt||c.prompt;b.separator=b.separator||c.separator;b.theme=b.theme||c.theme;var m=Array.prototype.slice.call(arguments,2),f=localStorage.history?JSON.parse(localStorage.history):[],g=f.length,n="",h=document.getElementById(e);h.classList.add("terminal");h.classList.add("terminal-"+
b.theme);h.insertAdjacentHTML("beforeEnd",['<div class="background"><div class="interlace"></div></div><div class="container"><output></output><table class="input-line">','<tr><td nowrap><div class="prompt">'+b.prompt+b.separator+'</div></td><td width="100%"><input class="cmdline" autofocus /></td></tr>',"</table></div>"].join(""));var c=h.querySelector(".container"),k=c.querySelector(".input-line"),d=c.querySelector(".input-line .cmdline"),j=c.querySelector("output"),o=c.querySelector(".prompt"),
l=document.querySelector(".background");j.addEventListener("DOMSubtreeModified",function(){setTimeout(function(){d.scrollIntoView()},0)},!1);b.welcome&&i(b.welcome);window.addEventListener("click",function(){d.focus()},!1);j.addEventListener("click",function(a){a.stopPropagation()},!1);d.addEventListener("click",function(){this.value=this.value},!1);k.addEventListener("click",function(){d.focus()},!1);d.addEventListener("keyup",function(a){27==a.keyCode&&(this.value="",a.stopPropagation(),a.preventDefault());
if(f.length&&(38==a.keyCode||40==a.keyCode))f[g]?f[g]=this.value:n=this.value,38==a.keyCode?(g--,0>g&&(g=0)):40==a.keyCode&&(g++,g>f.length&&(g=f.length)),this.value=this.value=f[g]?f[g]:n},!1);d.addEventListener("keydown",function(a){if(13==a.keyCode){if(a=this.value)f[f.length]=a,localStorage.history=JSON.stringify(f),g=f.length;var b=this.parentNode.parentNode.parentNode.parentNode.cloneNode(!0);b.removeAttribute("id");b.classList.add("line");var c=b.querySelector("input.cmdline");c.autofocus=
!1;c.readOnly=!0;c.insertAdjacentHTML("beforebegin",c.value);c.parentNode.removeChild(c);j.appendChild(b);k.classList.add("hidden");this.value="";if(a&&a.trim())var d=a.split(" ").filter(function(a){return a}),e=d[0],d=d.splice(1);if(e){var a=!1,h;for(h in m)if(b=m[h],b.execute&&(a=b.execute(e,d)),!1!==a)break;!1===a&&(a=e+": command not found");i(a)}k.classList.remove("hidden")}},!1);window.addEventListener("keyup",function(a){d.focus();a.stopPropagation();a.preventDefault()},!1);return{clear:function(){j.innerHTML=
"";d.value="";l.style.minHeight=""},setPrompt:function(a){o.innerHTML=a+b.separator},getPrompt:function(){return o.innerHTML.replace(RegExp(b.separator+"$"),"")},setTheme:function(a){h.classList.remove("terminal-"+b.theme);b.theme=a;h.classList.add("terminal-"+b.theme)},getTheme:function(){return b.theme},output:i}}};if("undefined"!==typeof module&&module.exports)module.exports=e;else{var l=i.Terminal;e.noConflict=function(){i.Terminal=l;return e};i.Terminal=e}})(this);
