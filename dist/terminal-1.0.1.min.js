(function(i){var e=e||function(e,a){function i(b){j.insertAdjacentHTML("beforeEnd",b);d.scrollIntoView()}if(e){var c={welcome:"",prompt:"",separator:"&gt;",theme:"interlaced"},a=a||c;a.welcome=a.welcome||c.welcome;a.prompt=a.prompt||c.prompt;a.separator=a.separator||c.separator;a.theme=a.theme||c.theme;var m=Array.prototype.slice.call(arguments,2),f=localStorage.history?JSON.parse(localStorage.history):[],g=f.length,n="",h=document.getElementById(e);h.classList.add("terminal");h.classList.add("terminal-"+
a.theme);h.insertAdjacentHTML("beforeEnd",['<div class="background"><div class="interlace"></div></div><div class="container"><output></output><table class="input-line">','<tr><td nowrap><div class="prompt">'+a.prompt+a.separator+'</div></td><td width="100%"><input class="cmdline" autofocus /></td></tr>',"</table></div>"].join(""));var c=h.querySelector(".container"),k=c.querySelector(".input-line"),d=c.querySelector(".input-line .cmdline"),j=c.querySelector("output"),o=c.querySelector(".prompt"),
l=document.querySelector(".background");j.addEventListener("DOMSubtreeModified",function(){setTimeout(function(){d.scrollIntoView()},0)},!1);a.welcome&&i(a.welcome);window.addEventListener("click",function(){d.focus()},!1);j.addEventListener("click",function(b){b.stopPropagation()},!1);d.addEventListener("click",function(){this.value=this.value},!1);k.addEventListener("click",function(){d.focus()},!1);d.addEventListener("keyup",function(b){27==b.keyCode&&(this.value="",b.stopPropagation(),b.preventDefault());
if(f.length&&(38==b.keyCode||40==b.keyCode))f[g]?f[g]=this.value:n=this.value,38==b.keyCode?(g--,0>g&&(g=0)):40==b.keyCode&&(g++,g>f.length&&(g=f.length)),this.value=this.value=f[g]?f[g]:n},!1);d.addEventListener("keydown",function(b){if(13==b.keyCode){if(b=this.value)f[f.length]=b,localStorage.history=JSON.stringify(f),g=f.length;var a=this.parentNode.parentNode.parentNode.parentNode.cloneNode(!0);a.removeAttribute("id");a.classList.add("line");var c=a.querySelector("input.cmdline");c.autofocus=
!1;c.readOnly=!0;c.insertAdjacentHTML("beforebegin",c.value);c.parentNode.removeChild(c);j.appendChild(a);k.classList.add("hidden");this.value="";if(b&&b.trim())var d=b.split(" ").filter(function(a){return a}),e=d[0],d=d.splice(1);if(e){var a=!1,h;for(h in m)if(c=m[h],c.execute&&(a=c.execute(e,d,b.trim())),!1!==a)break;!1===a&&(a=e+": command not found");i(a)}k.classList.remove("hidden")}},!1);window.addEventListener("keyup",function(a){d.focus();a.stopPropagation();a.preventDefault()},!1);return{clear:function(){j.innerHTML=
"";d.value="";l.style.minHeight=""},setPrompt:function(b){o.innerHTML=b+a.separator},getPrompt:function(){return o.innerHTML.replace(RegExp(a.separator+"$"),"")},setTheme:function(b){h.classList.remove("terminal-"+a.theme);a.theme=b;h.classList.add("terminal-"+a.theme)},getTheme:function(){return a.theme},output:i}}};if("undefined"!==typeof module&&module.exports)module.exports=e;else{var l=i.Terminal;e.noConflict=function(){i.Terminal=l;return e};i.Terminal=e}})(this);
